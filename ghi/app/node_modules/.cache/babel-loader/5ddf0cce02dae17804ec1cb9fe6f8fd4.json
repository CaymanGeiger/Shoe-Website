{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\n\nfunction removeElement(elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n\n  if (elem.parent) {\n    var childs = elem.parent.children;\n    var childsIndex = childs.lastIndexOf(elem);\n\n    if (childsIndex >= 0) {\n      childs.splice(childsIndex, 1);\n    }\n  }\n\n  elem.next = null;\n  elem.prev = null;\n  elem.parent = null;\n}\n\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\n\nfunction replaceElement(elem, replacement) {\n  var prev = replacement.prev = elem.prev;\n\n  if (prev) {\n    prev.next = replacement;\n  }\n\n  var next = replacement.next = elem.next;\n\n  if (next) {\n    next.prev = replacement;\n  }\n\n  var parent = replacement.parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n    elem.parent = null;\n  }\n}\n\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param parent The element to append to.\n * @param child The element to be added as a child.\n */\n\nfunction appendChild(parent, child) {\n  removeElement(child);\n  child.next = null;\n  child.parent = parent;\n\n  if (parent.children.push(child) > 1) {\n    var sibling = parent.children[parent.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n  } else {\n    child.prev = null;\n  }\n}\n\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\n\nfunction append(elem, next) {\n  removeElement(next);\n  var parent = elem.parent;\n  var currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n\n  if (currNext) {\n    currNext.prev = next;\n\n    if (parent) {\n      var childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n}\n\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param parent The element to prepend before.\n * @param child The element to be added as a child.\n */\n\nfunction prependChild(parent, child) {\n  removeElement(child);\n  child.parent = parent;\n  child.prev = null;\n\n  if (parent.children.unshift(child) !== 1) {\n    var sibling = parent.children[1];\n    sibling.prev = child;\n    child.next = sibling;\n  } else {\n    child.next = null;\n  }\n}\n\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\n\nfunction prepend(elem, prev) {\n  removeElement(prev);\n  var parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs.splice(childs.indexOf(elem), 0, prev);\n  }\n\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n}\n\nexports.prepend = prepend;","map":{"version":3,"mappings":"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","names":["removeElement","elem","prev","next","parent","childs","children","childsIndex","lastIndexOf","splice","exports","replaceElement","replacement","appendChild","child","push","sibling","length","append","currNext","prependChild","unshift","prepend","indexOf"],"sources":["manipulation.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}